<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handle Region Boundary Click Event</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script  src="https://code.jquery.com/jquery-3.7.1.js"  crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="/static/css/map.css"> 
    <link type="text/css" rel="stylesheet" href="/static/css/vision-top-bar.css">
    <link type="text/css" rel="stylesheet" href="/static/css/vision-map.css">
    <link type="text/css" rel="stylesheet" href="/static/css/common.css?v=8LQ18yYe0nkNEKL64tQjg740mAhN3Q8e5fx2lm2JOuo">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmxt9MdmhDOTDpVz3xLriP_uIe8bCTApc&v=3.59&loading=async&map_ids=ade4782d096b4576&libraries=places" async defer></script>
  <!-- &libraries=places -->
</head>
<body>
   <div id="loader-wrapper" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); z-index: 9999;">
        <div class="d-flex justify-content-center align-items-center" style="height: 100%">
            <div class="loader-container">
                <div class="spin-item">
                    <img src="/static/img/Vision-V-Mono.png" alt="Red Triangle" class="spinner-image">
                </div>
                <div class="spin-item">
                    <img src="/static/img/Vision-V-Colour.png" alt="White Triangle" class="spinner-image">
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid px-0">
    <div id="top-bar" style=" background-color: #FFD900;">
        <div class="left">
            <span id="mnu-layer-control" class="top-bar-item tip tooltipstered data-toggle" data-tooltip-content="#mnu-layer-control-tip">
                <img src="/static/img/action-black.png">
            </span>
            <span id="mnu-legend" class="top-bar-item tip tooltipstered data-toggle" data-tooltip-content="#mnu-legend-tip">
                <img src="/static/img/legend-black.png">
            </span>
            <span id="mnu-search" class="top-bar-item tip tooltipstered data-toggle" data-tooltip-content="#mnu-search-tip">
                <img src="/static/img/search-black.png">
            </span>
            <input type="text" id="address-input1" placeholder="Enter address" style="display: none;">
            <span id="topbar-views" 
              class="top-bar-item tip tooltipstered data-toggle" 
              data-tooltip-content="#tt-topbar-views" 
              onclick="window.location.href='/folder';" 
              style="cursor: pointer;">
              <img src="/static/img/views-black.png">
          </span>

        </div>
        <div class="center">
            <span id="vision-logo" style=" background-color: #FFD900;">
                <img id="vision-logo-img" src="static/img/Final_Logo-removebg-preview.png">
            </span>
        </div>
        <div class="right">
            <span id="mnu-notifications" class="top-bar-item tip tooltipstered" data-tooltip-content="#mnu-notifications-tip">
                <img src="/static/img/notifications-black.png">
            </span>
            <a id="mnuHelpCentre" class="top-bar-item tip tooltipstered" data-tooltip-content="#mnu-help-centre-tip" href="https://support.vision-mapping.com/hc" target="_blank">
                <img src="/static/img/help-black.png">
            </a>
            <a class="top-bar-item tip tooltipstered" data-tooltip-content="#tt-user-admin" onclick="window.location.href='/folder';">
                <img src="/static/img/settings-black.png">
            </a>
            <a id="logout" class="top-bar-item tip tooltipstered" data-tooltip-content="#mnu-logout-tip" href="/Login/Login/Logout">
                <img src="/static/img/logout-black.png">
            </a>
        </div>
    </div>
</div>
<div class="container-fluid">
    <div class="row" style="height: 100%;">
        <div class="col-2 px-0">
          <div id="leftPanel" class="left-panel active">
            <div id="defaultView">
              <div class="panel-header add-height">
                <h1>Layer Control<h1>
              </div>
              <div class="country-selection" >
                <span style="margin-left:0%;">United States</span>
                <img src="/static/img/us-flag.png" alt="US Flag" class="flag-icon">
              </div>
              <!-- Franchise Terrotories -->
              <div class="layer-buttons">
                <button id="franchiseTerritoriesBtn" class="layer-btn">
                  Area-Development
                </button>
                <div id="franchiseControls" class="franchise-controls" style="display: none;">
                  <button id="Rename" class="control-btn">
                    <i class="grid-icon"></i>
                  </button>
                  <button id="toggleLabelsBtn" class="control-btn">
                    Turn labels off
                  </button>
                  <button id="menuBtn" class="control-btn">
                    <i class="menu-icon">New</i>
                  </button>
                </div>
              </div>
              <!-- Radial Analysis -->
              <div class="layer-buttons" style="margin-top:0%; width:107.5%">
                <button id="RadialAnalysisBtn" class="layer-btn">
                  Radial Analysis
                </button>
                <div id="radialControls" class="franchise-controls" style="display: none;">
                  <button id="Renameradial" class="control-btn">
                    <i class="grid-icon"></i>
                  </button>
                  <button id="toggleLabelsBtnRadial" class="control-btn">
                    Turn labels off
                  </button>
                  <button id="menuBtnRadial" class="control-btn">
                    <i class="menu-icon">New</i>
                  </button>
                </div>
              </div>
              <div class="layer-buttons" style="margin-top:0%; width:107.5%">
                <button id="editor" class="layer-btn">
                  Back To Editor
                </button>
            </div>
            </div>
            <!-- Inside layer Franchise -->
            <div id="franchiseView" style="display: none;">
              <div class="panel-header">
                <h1> Franchise Territories</h1>
              </div>
              <div class="section">
                <h3 class="section-title">Actions</h3>
                <button id="createNewAreaBtn" class="action-btn">Create new area</button>
              </div>
              <div class="section">
                <h3 class="section-title">Display options</h3>
                <button class="action-btn">Hide classification colours</button>
                <button class="action-btn">Edit label content</button>
              </div>
              <div class="section">
                <h3 class="section-title">Layer data</h3>
                <button class="action-btn">Table view</button>
                <button class="action-btn" id="layerInformationBtn">Layer information</button>
              </div>
              <div class="section">
                <h3 class="section-title">Cancel Selection</h3>
                <button class="action-btn" id="cancel-btn">Cancel</button>
              </div>
              <button id="backToLayerControlBtn" class="back-btn">
                Back to layer control
              </button>
            </div>
            <!-- Inside layer Radial -->
            <div id="radialview" style="display: none;">
              <div class="panel-header">
                <h1> Radial Analysis</h1>
              </div>
              <div class="section">
                <h3 class="section-title">Actions</h3>
                <button id="createNewAreaBtnRadial" class="action-btn">Create new area</button>
              </div>
              <div class="section">
                <h3 class="section-title">Display options</h3>
                <button class="action-btn">Hide classification colours For Circles</button>
                <button class="action-btn">Edit label content</button>
              </div>
              <div class="section">
                <h3 class="section-title">Layer data</h3>
                <button class="action-btn">Table View</button>
                <button class="action-btn" id="layerInformationBtnRadial">Layer information</button>
              </div>
              <button id="backToLayerControlBtnFromRadial" class="back-btn">
                Back to layer control
              </button>
            </div>
              <!-- Layer Information Franchise-->
            <div id="layerInfoViewFranchise" style="display: none;">
                <h3>Number of Records: <span id="recordCount"></span></h3> 
                <canvas id="classificationPieChart" width="200" height="200"></canvas>
                <button id="backToFranchiseViewBtn" class="back-btn">Back to Action Menu</button>
            </div>
            <!-- Layer Information Radial-->
            <div id="layerInfoViewRadial" style="display: none;">
              <h3>Number of Records: <span id="recordCountRadial"></span></h3> 
              <canvas id="classificationPieChartRadial" width="200" height="200"></canvas>
              <button id="backToViewBtnRadial" class="back-btn">Back to Action Menu</button>
            </div> 
          </div>
        </div>
      <!-- Map and Table View Franchise-->
        <div class="col-sm-8" style="padding: 0;">
            <div id="map" class="w-100 h-100" style="display: none;"></div>
            <!-- Table view Franchise-->
            <div id="tableView" style="display: none;">
                <h3>Table data</h3>
                <table id="dataTable" class="table">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Unique Key</th>
                      <th>Classification</th>
                      <th class="p-0 m-0"><button onclick="addColumn()">Add column</button></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                    <td>Filter</td>
                    <td>Filter</td>
                    <td>Filter</td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                  </tbody>
                </table>
                <button id="exportToCSV" class="btn btn-success btn-block mb-2">Export to CSV</button>
                <button id="returnToMapFromTable" class="btn btn-success btn-block mb-2">Back to Layer Control</button>
            </div>
            <!-- Table view Radial-->
            <div id="tableViewRadial" style="display: none;">
              <h3>Table data</h3>
              <table id="dataTableRadial" class="table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Unique Key</th>
                    <th>Classification</th>
                    <th class="p-0 m-0"><button onclick="addColumn()">Add column</button></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                  <td>Filter</td>
                  <td>Filter</td>
                  <td>Filter</td>
                  <td></td>
              </tr>
              <tr>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
              </tr>
                </tbody>
              </table>
              <button id="exportToCSVRadial" class="btn btn-success btn-block mb-2">Export to CSV</button>
              <button id="returnToMapFromTableRadial" class="btn btn-success btn-block mb-2">Back to Layer Control</button>
          </div>
        </div> 
        <div class="col-sm-2" style="padding: 0;">
          
            <div id="rightPanel" class="right-panel">
              <!-- Right Header for Franchise-->
              <!-- Demographic table Franchise-->
                <div id="demographic-table" style="display: none; margin-top: 20px; padding: 0;">
                    <table id="demographicTable" style="width: 100%; margin: 0; padding: 0; border-collapse: collapse;">
                        <thead>
                            <tr>
                                <th>Demographic</th>
                                <th>Selected value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Population</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Households</td>
                                <td>0</td>
                            </tr>
                            <tr>
                              <td>Households Less Than $10,000 (Est)</td>
                              <td>0</td>
                          </tr>
                            <tr>
                                <td>Household Income - $10,000 to $14,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $15,000 to $24,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $25,000 to $34,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $35,000 to $49,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $50,000 to $74,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $75,000 to $99,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $100,000 to $149,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $150,000 to $199,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $200,000 and over (Est)</td>
                                <td>0</td>
                            </tr>
                        </tbody>
                    </table>
                    <button id="CloseBtn" type="button" class="btn btn-danger" style="display:none;">Close</button>
                </div>
                <!-- demographic table radial-->
                <div id="demographic-table-radial" style="display: none; padding: 0;">
                  <table id="demographicTableRadial" style="width: 100%; margin: 0; padding: 0; border-collapse: collapse;">
                     <thead>
                            <tr>
                                <th>Demographic</th>
                                <th>Selected value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Population</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Households</td>
                                <td>0</td>
                            </tr>
                            <tr>
                              <td>Households Less Than $10,000 (Est)</td>
                              <td>0</td>
                          </tr>
                            <tr>
                                <td>Household Income - $10,000 to $14,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $15,000 to $24,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $25,000 to $34,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $35,000 to $49,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $50,000 to $74,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $75,000 to $99,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $100,000 to $149,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $150,000 to $199,999 (Est)</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Household Income - $200,000 and over (Est)</td>
                                <td>0</td>
                            </tr>
                        </tbody>
                  </table>
                    <button id="CloseBtnRadial" type="button" class="btn btn-danger">Close</button>
              </div>
              <!-- ****************************************************************************************************** -->
            </div>
        </div>
        </div>
        </div>
        </div>
        <div class="modal fade modal-edit-label" id="editLabelModal" tabindex="-1" role="dialog" aria-labelledby="editLabelModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                <div class="modal-header d-block">
                    <h5 class="modal-title text-center" id="editLabelModalLabel">Edit Label Content</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <table class="table">
                        <thead class="thead-dark">
                          <tr>
                            <th scope="col" colspan="2">Label</th>
                            <th scope="col" colspan="2">Prefix</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td scope="row">1</td>
                            <td>Mark</td>
                            <td class="input-table">
                                <input id="prefixInput" class="form-control" placeholder="Enter a addition prefix">
                                </td>
                                <td>
                                <span class="text-danger">x</span></td>
                            </td>
                          </tr>
                          <tr>
                            <td scope="row"></td>
                            <td>Jacob</td>
                            <td scope="row" ></td>
                            <td ></td>
                          </tr>
                        </tbody>
                      </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="saveLabelChanges">Save changes</button>
                </div>
                </div>
            </div>
        </div>
  <!-- Modal For Area Development -->
  <div class="modal fade" id="delet-area" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Are you sure?</h5>
                <p>Please confirm</p>
            </div>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <div class="modal-body p-5">
                <p>Are you sure you want to delete this area?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirmDeleteButton">Delete it</button>
            </div>
          </div>
    </div>
  </div>
  <div id="searchModal" class="modal1" style="display:none;">
    <div class="modal-content1">
        <span id="closeModal" class="close">&times;</span>
        <h2>Search Location</h2>
        <input id="autocomplete1" type="text" placeholder="Type a location" style="width: 100%; padding: 10px;">
        <button id="searchSubmit" style="margin-top: 10px;">Submit</button>
    </div>
  </div>
  <div id="postalCodeModal" class="modalPostal">
    <div class="modal-content-postal">
        <span class="closePostal" id="closeModalPostal">&times;</span>
        <h2 class="modal-title">Postal Codes</h2>
        <div id="postalCodesList" class="postal-codes-list">
            <!-- Postal codes will be inserted here -->
        </div>
    </div>
</div>
     <script type="module" src="/static/js/readOnly.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script type="module" src="/static/js/toggle.js"></script>
    <script type="module" src="/static/js/vision-chart.js"></script>
    <script type="module" src="/static/js/nice-select.js"></script>
    <script type="module" src="/static/js/tooltip.js"></script>
    <script>
        $("#editor").click(function(){
            window.location.href = "/";
          });
        </script>
</body>
</html>